define("mod_aiquiz/doubleconfirm",["core/notification","core/modal_factory","core/ajax","jquery"],(function(Notification,ModalFactory,Ajax,$){return{init:function(quizid,coursemodule){const originalConfirm=Notification.confirm;Notification.confirm=function(title,message,yesLabel,noLabel,yesCallback,noCallback){if(!("string"==typeof message&&message.startsWith("Are you sure that you want to delete the Assign Quiz")))return originalConfirm(title,message,yesLabel,noLabel,yesCallback,noCallback);return originalConfirm(title,message,yesLabel,noLabel,(function(){ModalFactory.create({title:"One last check!",body:"Do you also want to delete the generated questions on this quiz?",type:ModalFactory.types.SAVE_CANCEL}).then((function(secondModal){secondModal.show();const modalRoot=secondModal.getRoot(),saveBtn=modalRoot.find(".modal-footer .btn-primary");saveBtn.text("Yes, delete questions");const cancelBtn=modalRoot.find(".modal-footer .btn-secondary");cancelBtn.text("No, keep them"),saveBtn.on("click",(function(){secondModal.hide(),"function"==typeof yesCallback&&yesCallback()})),cancelBtn.on("click",(function(){secondModal.hide(),Ajax.call([{methodname:"mod_aiquiz_preserve_questions",args:{quizid:quizid},fail:Notification.exception}]);const activitySelector='[id="module-'.concat(coursemodule,'"]'),activityElement=document.querySelector(activitySelector);activityElement&&(activityElement.classList.add("dimmed"),$(activityElement).fadeOut(150,(function(){this.remove()})))}))})).catch(Notification.exception)}),(function(){"function"==typeof noCallback&&noCallback()}))}}}}));

//# sourceMappingURL=doubleconfirm.min.js.map